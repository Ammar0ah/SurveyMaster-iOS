{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _omit2 = _interopRequireDefault(require(\"lodash/omit\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _reactDom = require(\"react-dom\");\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _domLib = require(\"dom-lib\");\n\nvar _utils = require(\"../utils\");\n\nvar _elementResizeEvent = _interopRequireWildcard(require(\"element-resize-event\"));\n\nvar omitProps = ['placement', 'shouldUpdatePosition', 'arrowOffsetLeft', 'arrowOffsetTop', 'positionLeft', 'positionTop', 'getPositionInstance', 'getToggleInstance', 'autoWidth'];\nvar resizePlacement = ['topLeft', 'topRight', 'leftBottom', 'rightBottom', 'auto', 'autoVerticalLeft', 'autoVerticalRight', 'autoHorizontalBottom'];\n\nvar MenuWrapper =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(MenuWrapper, _React$Component);\n\n  function MenuWrapper() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"menuElement\", null);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"bindMenuRef\", function (ref) {\n      _this.menuElement = ref;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handleResize\", function () {\n      var getPositionInstance = _this.props.getPositionInstance;\n      var instance = getPositionInstance ? getPositionInstance() : null;\n\n      if (instance) {\n        instance.updatePosition(true);\n      }\n    });\n    return _this;\n  }\n\n  var _proto = MenuWrapper.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var autoWidth = this.props.autoWidth;\n\n    if (resizePlacement.includes(this.props.placement)) {\n      (0, _elementResizeEvent.default)(this.menuElement, this.handleResize);\n    }\n\n    if (autoWidth) {\n      this.updateMenuStyle();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.menuElement) {\n      (0, _elementResizeEvent.unbind)(this.menuElement);\n    }\n  };\n\n  _proto.updateMenuStyle = function updateMenuStyle() {\n    var getToggleInstance = this.props.getToggleInstance;\n\n    if (this.menuElement && getToggleInstance) {\n      var instance = getToggleInstance();\n\n      if (instance && instance.toggle) {\n        var width = (0, _domLib.getWidth)((0, _reactDom.findDOMNode)(instance.toggle));\n        (0, _domLib.addStyle)(this.menuElement, 'min-width', width + \"px\");\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        classPrefix = _this$props.classPrefix,\n        rest = (0, _objectWithoutPropertiesLoose2.default)(_this$props, [\"className\", \"classPrefix\"]);\n    return React.createElement(\"div\", (0, _extends2.default)({}, (0, _omit2.default)(rest, omitProps), {\n      ref: this.bindMenuRef,\n      className: (0, _classnames.default)(classPrefix, className)\n    }));\n  };\n\n  return MenuWrapper;\n}(React.Component);\n\n(0, _defineProperty2.default)(MenuWrapper, \"handledProps\", [\"autoWidth\", \"className\", \"classPrefix\", \"getPositionInstance\", \"getToggleInstance\", \"placement\"]);\nvar enhance = (0, _utils.defaultProps)({\n  classPrefix: 'picker-menu'\n});\n\nvar _default = enhance(MenuWrapper);\n\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}