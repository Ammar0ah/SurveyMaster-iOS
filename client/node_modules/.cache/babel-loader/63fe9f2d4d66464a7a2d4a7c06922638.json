{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _Transition = _interopRequireDefault(require(\"rsuite-utils/lib/Animation/Transition\"));\n\nvar _domLib = require(\"dom-lib\");\n\nvar _utils = require(\"./utils\");\n\nvar Ripple =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(Ripple, _React$Component);\n\n  function Ripple(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"mousedownListener\", null);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"trigger\", null);\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"bindTriggerRef\", function (ref) {\n      _this.trigger = ref;\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"getPosition\", function (event) {\n      var offset = (0, _domLib.getOffset)(_this.trigger);\n      var offsetX = (event.pageX || 0) - offset.left;\n      var offsetY = (event.pageY || 0) - offset.top;\n      var radiusX = Math.max(offset.width - offsetX, offsetX);\n      var radiusY = Math.max(offset.height - offsetY, offsetY);\n      var radius = Math.sqrt(Math.pow(radiusX, 2) + Math.pow(radiusY, 2));\n      return {\n        width: radius * 2,\n        height: radius * 2,\n        left: offsetX - radius,\n        top: offsetY - radius\n      };\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"onMouseDown\", function (event) {\n      var position = _this.getPosition(event);\n\n      var onMouseDown = _this.props.onMouseDown;\n\n      _this.setState({\n        rippling: true,\n        position: position\n      });\n\n      onMouseDown && onMouseDown(position, event);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"handleRippled\", function () {\n      _this.setState({\n        rippling: false\n      });\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"addPrefix\", function (name) {\n      return (0, _utils.prefix)(_this.props.classPrefix)(name);\n    });\n    _this.state = {\n      rippling: false,\n      position: {}\n    };\n    return _this;\n  }\n\n  var _proto = Ripple.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.trigger) {\n      this.mousedownListener = (0, _domLib.on)(this.trigger.parentNode, 'mousedown', this.onMouseDown);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.mousedownListener) {\n      this.mousedownListener.off();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        className = _this$props.className,\n        classPrefix = _this$props.classPrefix,\n        props = (0, _objectWithoutPropertiesLoose2.default)(_this$props, [\"className\", \"classPrefix\"]);\n    var classes = (0, _classnames.default)(this.addPrefix('pond'), className);\n    var _this$state = this.state,\n        position = _this$state.position,\n        rippling = _this$state.rippling;\n    return React.createElement(\"span\", (0, _extends2.default)({}, props, {\n      className: classes,\n      ref: this.bindTriggerRef\n    }), React.createElement(_Transition.default, {\n      in: rippling,\n      enteringClassName: this.addPrefix('rippling'),\n      onEntered: this.handleRippled\n    }, React.createElement(\"span\", {\n      className: classPrefix,\n      style: position\n    })));\n  };\n\n  return Ripple;\n}(React.Component);\n\n(0, _defineProperty2.default)(Ripple, \"handledProps\", [\"className\", \"classPrefix\", \"onMouseDown\"]);\n\nvar _default = (0, _utils.defaultProps)({\n  classPrefix: 'ripple'\n})(Ripple);\n\nexports.default = _default;","map":null,"metadata":{},"sourceType":"script"}