{"ast":null,"code":"var _jsxFileName = \"/Users/ammar0ah/Desktop/SurveyMaster/SurveyMaster/client/src/Components/Form/loginForm.jsx\";\nimport React from \"react\";\nimport Joi from \"joi-browser\";\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { authSignIn } from '../../store/actions/authAction';\nimport { Alert } from 'rsuite';\nimport { currentUser } from '../../store/actions/viewAction';\nimport Form from \"./form\";\nimport styles from './divider.module.css';\nimport { decodeUser } from \"../../store/actions/jwtDecode\";\n\nclass SignIn extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        email: \"\",\n        password: \"\"\n      },\n      errors: {},\n      token: \"\"\n    };\n    this.schema = {\n      email: Joi.string().email().required().label(\"Email\"),\n      password: Joi.string().required().label(\"Password\")\n    };\n\n    this.doSubmit = async () => {\n      const _this$state$data = this.state.data,\n            email = _this$state$data.email,\n            password = _this$state$data.password;\n      await this.props.authSignIn(email, password);\n      const user = decodeUser();\n      console.log(user);\n      this.props.currentUser(user);\n\n      if (this.props.error) {\n        Alert.error(this.props.error);\n      } else this.props.history.push('/surveys');\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    state.token = props.token;\n    return state;\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      style: {\n        marginTop: '50px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: styles.h1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Survey Master helps you attract more responses and a higher response rate than you could with other tools\"), React.createElement(\"div\", {\n      className: styles.outer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: styles.inner,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: styles.h2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Hello, who\\u2019s this?\"), React.createElement(\"div\", {\n      className: styles.formLayout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      style: {\n        marginLeft: '10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Sign In\"), this.renderInput(\"email\", \"Email\"), this.renderInput(\"password\", \"Password\", \"password\"), this.renderButton(\"Sign in\")), React.createElement(\"label\", {\n      style: {\n        float: \"right\",\n        cursor: 'default'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Don't have an account?   \", React.createElement(Link, {\n      to: \"/signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Sign Up\"), \"  \"))))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: styles.h3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Ready for your treat? Sign in to get it \")));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  token: state.auth.token,\n  error: state.auth.error\n});\n\nexport default connect(mapStateToProps, {\n  authSignIn,\n  currentUser\n})(SignIn);","map":{"version":3,"sources":["/Users/ammar0ah/Desktop/SurveyMaster/SurveyMaster/client/src/Components/Form/loginForm.jsx"],"names":["React","Joi","Link","connect","authSignIn","Alert","currentUser","Form","styles","decodeUser","SignIn","state","data","email","password","errors","token","schema","string","required","label","doSubmit","props","user","console","log","error","history","push","getDerivedStateFromProps","render","marginTop","h1","outer","inner","h2","formLayout","handleSubmit","marginLeft","renderInput","renderButton","float","cursor","h3","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Joi from \"joi-browser\";\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { authSignIn } from '../../store/actions/authAction'\nimport {Alert} from 'rsuite'\nimport { currentUser } from '../../store/actions/viewAction'\nimport Form from \"./form\";\nimport styles from './divider.module.css'\nimport { decodeUser } from \"../../store/actions/jwtDecode\";\nclass SignIn extends Form {\n  state = {\n    data: { email: \"\", password: \"\" },\n    errors: {},\n    token: \"\"\n  };\n\n  schema = {\n    email: Joi.string()\n      .email()\n      .required()\n      .label(\"Email\"),\n    password: Joi.string()\n      .required()\n      .label(\"Password\")\n  };\n  static getDerivedStateFromProps(props, state) {\n    state.token = props.token\n    return state\n  }\n  doSubmit = async () => {\n    const { email, password } = this.state.data\n    await this.props.authSignIn(email, password)\n    const user = decodeUser();\n    console.log(user)\n    this.props.currentUser(user)\n    if(this.props.error){\n      Alert.error(this.props.error)\n    }\n   else\n    this.props.history.push('/surveys')\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n\n        <div className=\"container\" style={{marginTop: '50px'}}>\n          <div className=\"row\">\n            <div className=\"col-md\">\n              <h1 className={styles.h1} >\n                Survey Master helps you attract more responses and a higher response rate than you could with other tools\n            </h1>\n              <div className={styles.outer}>\n\n                <div className={styles.inner}></div>\n              </div>\n            </div>\n            <div className=\"col-md\">\n              <h1 className={styles.h2}>Hello, who’s this?</h1>\n              <div className={styles.formLayout}>\n                <form onSubmit={this.handleSubmit}>\n                  <h1 style={{ marginLeft: '10px' }}>Sign In</h1>\n                  {this.renderInput(\"email\", \"Email\")}\n                  {this.renderInput(\"password\", \"Password\", \"password\")}\n                  {this.renderButton(\"Sign in\")}\n                </form>\n                <label style={{ float: \"right\", cursor: 'default' }}>Don't have an account?   <Link to=\"/signup\">Sign Up</Link>  </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div>\n          <h2 className={styles.h3}>Ready for your treat? Sign in to get it </h2 >\n        </div>\n      </React.Fragment>\n\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  token: state.auth.token,\n  error: state.auth.error\n})\n\nexport default connect(mapStateToProps, { authSignIn, currentUser })(SignIn);\n"]},"metadata":{},"sourceType":"module"}